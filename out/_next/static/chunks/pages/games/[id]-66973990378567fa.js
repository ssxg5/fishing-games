(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{893:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/[id]",function(){return r(330)}])},9210:function(n,e,r){"use strict";r.d(e,{T:function(){return t}});let t=[{id:"deep-sea-fishing",title:"深海钓鱼",description:"探索深海世界，钓取稀有鱼类，体验深海钓鱼的乐趣！",imageUrl:"/images/games/deep-sea-fishing.jpg",gameUrl:"https://www.crazygames.com/embed-iframe/real-fishing-simulator",tags:["钓鱼","休闲","探索"],config:{aspectRatio:"16/9",allowFullscreen:!0,sandbox:"allow-scripts allow-same-origin allow-forms allow-popups"},seoTitle:"深海钓鱼 - 探索深海世界的钓鱼游戏",seoDescription:"在深海世界中探索和钓取稀有鱼类，体验刺激的深海钓鱼冒险！",keywords:["深海钓鱼","钓鱼游戏","探索游戏","休闲游戏"],thumbnail:"/images/games/deep-sea-fishing.jpg",adPositions:{top:!0,beforeGame:!1,afterGame:!0,bottom:!0}},{id:"river-fishing",title:"河流探险",description:"在平静的河流中享受钓鱼的乐趣，收集各种淡水鱼类！",imageUrl:"/images/games/river-fishing.jpg",gameUrl:"https://www.crazygames.com/embed-iframe/fishing-frenzy",tags:["钓鱼","休闲","冒险"],config:{aspectRatio:"16/9",allowFullscreen:!0,sandbox:"allow-scripts allow-same-origin allow-forms allow-popups"},seoTitle:"河流探险 - 悠闲的河钓游戏",seoDescription:"在宁静的河流中体验钓鱼的乐趣，收集各种淡水鱼类，享受轻松的钓鱼时光！",keywords:["河流钓鱼","钓鱼游戏","休闲游戏","冒险游戏"],thumbnail:"/images/games/river-fishing.jpg",adPositions:{top:!0,beforeGame:!1,afterGame:!0,bottom:!0}},{id:"ice-fishing",title:"冰上钓鱼",description:"体验刺激的冰上钓鱼运动，挑战极地环境下的钓鱼技巧！",imageUrl:"/images/games/ice-fishing.jpg",gameUrl:"https://www.crazygames.com/embed-iframe/ice-fishing-io",tags:["钓鱼","休闲","极限"],config:{aspectRatio:"16/9",allowFullscreen:!0,sandbox:"allow-scripts allow-same-origin allow-forms allow-popups"},seoTitle:"冰上钓鱼 - 极地钓鱼挑战",seoDescription:"在极地冰面上体验刺激的钓鱼运动，挑战极限环境下的钓鱼技巧！",keywords:["冰上钓鱼","极限运动","钓鱼游戏","休闲游戏"],thumbnail:"/images/games/ice-fishing.jpg",adPositions:{top:!0,beforeGame:!1,afterGame:!0,bottom:!0}}]},330:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return q}});var t=r(2729),i=r(5893),o=r(7294),a=r(9008),s=r.n(a),l=r(1664),c=r.n(l),d=r(6865),u=r(1163),m=r(9210);function f(){let n=(0,t._)(["\n  position: relative;\n  width: 100%;\n  aspect-ratio: ",";\n  background: #f5f5f5;\n  border-radius: 8px;\n  overflow: hidden;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  min-height: 400px;\n\n  @media (prefers-color-scheme: dark) {\n    background: #1a1a1a;\n  }\n  \n  @media (max-width: 768px) {\n    min-height: 300px;\n  }\n"]);return f=function(){return n},n}function p(){let n=(0,t._)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  border: none;\n  opacity: ",";\n  transition: opacity 0.3s ease;\n  background: #fff;\n  \n  @media (prefers-color-scheme: dark) {\n    background: #1a1a1a;\n  }\n"]);return p=function(){return n},n}function g(){let n=(0,t._)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background: rgba(255, 255, 255, 0.9);\n  z-index: 2;\n  \n  @media (prefers-color-scheme: dark) {\n    background: rgba(26, 26, 26, 0.9);\n  }\n"]);return g=function(){return n},n}function h(){let n=(0,t._)(["\n  width: 50px;\n  height: 50px;\n  border: 4px solid #f3f3f3;\n  border-top: 4px solid #0070f3;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin-bottom: 1rem;\n\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n  \n  @media (prefers-color-scheme: dark) {\n    border-color: #333;\n    border-top-color: #0070f3;\n  }\n"]);return h=function(){return n},n}function x(){let n=(0,t._)(["\n  color: #666;\n  font-size: 1rem;\n  margin-bottom: 1rem;\n  \n  @media (prefers-color-scheme: dark) {\n    color: #aaa;\n  }\n"]);return x=function(){return n},n}function b(){let n=(0,t._)(["\n  width: 200px;\n  height: 4px;\n  background: #f0f0f0;\n  border-radius: 2px;\n  overflow: hidden;\n  \n  &::after {\n    content: '';\n    display: block;\n    width: 50%;\n    height: 100%;\n    background: #0070f3;\n    border-radius: 2px;\n    animation: progress 2s ease-in-out infinite;\n  }\n  \n  @keyframes progress {\n    0% { transform: translateX(-100%); }\n    50% { transform: translateX(200%); }\n    100% { transform: translateX(-100%); }\n  }\n  \n  @media (prefers-color-scheme: dark) {\n    background: #333;\n  }\n"]);return b=function(){return n},n}function w(){let n=(0,t._)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background: rgba(255, 255, 255, 0.95);\n  z-index: 2;\n  \n  @media (prefers-color-scheme: dark) {\n    background: rgba(26, 26, 26, 0.95);\n  }\n"]);return w=function(){return n},n}function v(){let n=(0,t._)(["\n  font-size: 3rem;\n  margin-bottom: 1rem;\n"]);return v=function(){return n},n}function k(){let n=(0,t._)(["\n  color: #ff4444;\n  background: rgba(255, 68, 68, 0.1);\n  padding: 1rem 2rem;\n  border-radius: 8px;\n  text-align: center;\n  margin-bottom: 1rem;\n  max-width: 80%;\n"]);return k=function(){return n},n}function j(){let n=(0,t._)(["\n  padding: 0.5rem 1rem;\n  background: #0070f3;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  transition: background 0.2s;\n  \n  &:hover {\n    background: #0051cc;\n  }\n  \n  &:active {\n    transform: translateY(1px);\n  }\n"]);return j=function(){return n},n}function y(){let n=(0,t._)(["\n  position: absolute;\n  bottom: 10px;\n  right: 10px;\n  background: rgba(0, 0, 0, 0.7);\n  color: white;\n  padding: 6px 10px;\n  border-radius: 4px;\n  font-size: 0.75rem;\n  opacity: 0.8;\n  z-index: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n  \n  @media (max-width: 768px) {\n    font-size: 0.7rem;\n    padding: 4px 6px;\n  }\n"]);return y=function(){return n},n}let _=d.ZP.div(f(),n=>n.$aspectRatio),P=d.ZP.iframe(p(),n=>n.$isLoaded?1:0),E=d.ZP.div(g()),Z=d.ZP.div(h()),z=d.ZP.div(x()),T=d.ZP.div(b()),R=d.ZP.div(w()),L=d.ZP.div(v()),U=d.ZP.div(k()),C=d.ZP.button(j()),G=d.ZP.div(y());var F=n=>{let{gameUrl:e,title:r,aspectRatio:t="16/9",allowFullscreen:a=!0,sandbox:s="allow-scripts allow-same-origin allow-popups allow-forms",lazy:l=!0}=n,c=(0,o.useRef)(null),d=(0,o.useRef)(null),[u,m]=(0,o.useState)(!0),[f,p]=(0,o.useState)(null),[g,h]=(0,o.useState)(0),[x,b]=(0,o.useState)(!l),[w,v]=(0,o.useState)(!l),k=(0,o.useRef)();(0,o.useEffect)(()=>{if(!l||x)return;let n=new IntersectionObserver(e=>{let[r]=e;r.isIntersecting&&(b(!0),v(!0),n.disconnect())},{rootMargin:"100px",threshold:.1});return d.current&&n.observe(d.current),()=>n.disconnect()},[l,x]);let j=(0,o.useCallback)(()=>{m(!1),p(null),k.current&&clearTimeout(k.current)},[]),y=(0,o.useCallback)(()=>{p("游戏加载失败，请刷新页面重试"),m(!1),k.current&&clearTimeout(k.current)},[]),F=(0,o.useCallback)(()=>{p(null),m(!0),v(!1),setTimeout(()=>{v(!0)},100)},[]);return(0,o.useEffect)(()=>{if(!w||!e)return;let n=performance.now();k.current=setTimeout(()=>{u&&(p("游戏加载超时，请检查网络连接"),m(!1))},3e4);let r=()=>{h(performance.now()-n)};if(c.current){let n=c.current;return n.addEventListener("load",j),n.addEventListener("error",y),n.addEventListener("load",r),()=>{n.removeEventListener("load",j),n.removeEventListener("error",y),n.removeEventListener("load",r)}}return()=>{k.current&&clearTimeout(k.current)}},[w,e,u,j,y]),(0,o.useEffect)(()=>{if(w&&e){let n=document.createElement("link");return n.rel="preconnect",n.href=new URL(e).origin,document.head.appendChild(n),()=>{document.head.removeChild(n)}}},[w,e]),(0,i.jsxs)(_,{ref:d,$aspectRatio:t,children:[u&&(0,i.jsxs)(E,{children:[(0,i.jsx)(Z,{}),(0,i.jsx)(z,{children:"加载游戏中..."}),(0,i.jsx)(T,{})]}),f&&(0,i.jsxs)(R,{children:[(0,i.jsx)(L,{children:"⚠️"}),(0,i.jsx)(U,{children:f}),(0,i.jsx)(C,{onClick:F,children:"重试"})]}),w&&(0,i.jsx)(P,{ref:c,src:e,title:r,frameBorder:"0",allowFullScreen:a,sandbox:s,loading:"lazy",$isLoaded:!u&&!f,"aria-label":"".concat(r," 游戏页面")}),!u&&!f&&g>0&&(0,i.jsxs)(G,{children:[(0,i.jsxs)("span",{children:["加载用时: ",Math.round(g),"ms"]}),(0,i.jsxs)("span",{children:["网络状态: ",navigator.onLine?"在线":"离线"]})]})]})};function S(){let n=(0,t._)(["\n  min-height: 90px;\n  background: #f0f0f0;\n  margin: 1rem 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px dashed #ccc;\n"]);return S=function(){return n},n}function D(){let n=(0,t._)(["\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n"]);return D=function(){return n},n}function N(){let n=(0,t._)(["\n  position: relative;\n  width: 100%;\n  margin: 2rem 0;\n"]);return N=function(){return n},n}function X(){let n=(0,t._)(["\n  display: inline-block;\n  padding: 8px 16px;\n  background-color: ",";\n  color: white;\n  border-radius: 4px;\n  text-decoration: none;\n  margin-bottom: 1rem;\n  \n  &:hover {\n    opacity: 0.9;\n  }\n"]);return X=function(){return n},n}let $=d.ZP.div(S()),O=d.ZP.div(D()),I=d.ZP.div(N()),M=(0,d.ZP)(c())(X(),n=>n.theme.colors.primary);var q=()=>{var n,e,r,t,o;let{id:a}=(0,u.useRouter)().query,l=m.T.find(n=>n.id===a);return l?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s(),{children:[(0,i.jsx)("title",{children:l.seoTitle}),(0,i.jsx)("meta",{name:"description",content:l.seoDescription}),(0,i.jsx)("meta",{name:"keywords",content:(null===(n=l.keywords)||void 0===n?void 0:n.join(", "))||""}),(0,i.jsx)("meta",{property:"og:title",content:l.seoTitle}),(0,i.jsx)("meta",{property:"og:description",content:l.seoDescription}),(0,i.jsx)("meta",{property:"og:image",content:l.thumbnail}),(0,i.jsx)("meta",{property:"og:type",content:"game"})]}),(0,i.jsxs)(O,{children:[(0,i.jsx)(M,{href:"/",children:"返回首页"}),(null===(e=l.adPositions)||void 0===e?void 0:e.top)&&(0,i.jsx)($,{position:"top",children:"广告位 - 顶部"}),(0,i.jsx)("h1",{children:l.title}),(0,i.jsx)("p",{children:l.description}),(null===(r=l.adPositions)||void 0===r?void 0:r.beforeGame)&&(0,i.jsx)($,{position:"before-game",children:"广告位 - 游戏前"}),(0,i.jsx)(I,{children:(0,i.jsx)(F,{gameUrl:l.gameUrl,title:l.title,aspectRatio:l.config.aspectRatio,sandbox:l.config.sandbox,allowFullscreen:l.config.allowFullscreen,lazy:!1})}),(null===(t=l.adPositions)||void 0===t?void 0:t.afterGame)&&(0,i.jsx)($,{position:"after-game",children:"广告位 - 游戏后"}),(null===(o=l.adPositions)||void 0===o?void 0:o.bottom)&&(0,i.jsx)($,{position:"bottom",children:"广告位 - 底部"})]})]}):null}}},function(n){n.O(0,[216,888,179],function(){return n(n.s=893)}),_N_E=n.O()}]);